<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.msix.admin.review.dao.ARepReviewDAO">
	
	<select id="replyList" parameterType="revReply" resultType="revReply">
		select c_no, rv_no, c_comment, to_char(c_date,'YYYY-MM-DD') as c_date
		from c_cmnt
		where rv_no = #{rv_no}
		order by rv_no desc
	</select>
	
	<!--  회원 테이블이 있어야 RepReviewVO 에서 extends 해서 회원번호 추가
	<select id="replyList" parameterType="int" resultType="revReply">
		select rv.m_no, c_no, c.rv_no, c_comment, to_char(c_date,'YYYY-MM-DD') as c_date
		from rv_board rv, c_cmnt c
		where rv.rv_no = #{rv_no}
	</select>-->
	
	<select id="replyCnt" parameterType="int" resultType="int">
		select count(rv_no) from c_cmnt where rv_no = #{rv_no}
	</select>
	
	<delete id="replyEachDelete" parameterType="int">
		delete from c_cmnt
		where c_no = #{c_no}
	</delete>
	
	<delete id="replyAllDelete" parameterType="int">
		delete from c_cmnt
		where rv_no = #{rv_no}
	</delete> 
	
</mapper>