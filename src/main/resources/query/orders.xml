<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.msix.client.orders.dao.OrdersDAO">
	<select id="ordersList" parameterType="orders" resultType="orders">
		select o.m_no, a.a_pcode, a.a_addr, a.a_daddr, a.a_destn, c.cart_price, c.cart_cnt, c.cart_delivery, c.cart_pay
			from orders o
			inner join member m  
			on m.m_no = o.m_no
			inner join address a
			on o.m_no = a.m_no
            inner join cart c
            on c.cart_no = o.cart_no
          where o.cart_no = #{cart_no}
	</select>
	
	<select id="orderNumber" resultType="int">
      select msix_orders_seq.nextval from dual
   </select>
   
   
   <insert id="ordersInsert" parameterType="orders">
      insert into orders(o_no, m_no, o_pcode, o_addr, o_daddr, o_recipient, o_rectel, o_payment) 
      values (#{o_no}, #{m_no}, #{o_pcode}, #{o_addr}, #{o_daddr}, #{o_recipient}, #{o_rectel}, #{o_payment})
   </insert>
   
	
</mapper>